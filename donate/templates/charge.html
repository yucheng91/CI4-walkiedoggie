{% extends 'base.html' %}
{% load static %}
{% block page_title %}WalkieDoggie - Donation{% endblock %}
{% block content %}
  <header class="py-5 bg-image-full" style="background-image: url({% static "img/donatedog.jpg" %});">
    <img class="img-fluid d-block mx-auto" src="{% static "img/SOSDlogo.png" %}" alt="SoSD">
  </header>

<div class="container-fluid">
  <div class="row">
    <div class="col">
      <h1><i class="fa fa-paw" aria-hidden="true"></i>{% block page_heading %}Doggonation{% endblock %}<i class="fa fa-paw" aria-hidden="true"></i></h1>
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="row">
    <div class="col">
        <h3>Please wait while we transfer you to payment page</h3>
    </div>
  </div>
</div>
{% endblock %}

{% block js %}
  <script src="https://js.stripe.com/v3/"></script>
  <script>
    
    var stripe = Stripe('{{publishable_key}}');
    stripe.redirectToCheckout({
      // Make the id field from the Checkout Session creation API response
      // available to this file, so you can provide it as parameter here
      // instead of the {{CHECKOUT_SESSION_ID}} placeholder.
      sessionId: '{{CHECKOUT_SESSION_ID}}'
    }).then(function (result) {
      // If `redirectToCheckout` fails due to a browser or network
      // error, display the localized error message to your customer
      // using `result.error.message`.
    });
  </script>

{% endblock %}